# Use Rocker Base Image
FROM r-base

# Contact Information
MAINTAINER John Richardson contact@peerlendingserver.com

# Description Label
LABEL Description="Command Line Peer Lending Server cPLS"

# Install Required R Packages
RUN echo 'install.packages(c("RCurl", "jsonlite", "dplyr", "stringr", "lubridate", "log4r", "parallel", "plotrix", "base64", "ggplot2", "xtable", "gbm"), repos="http://cran.us.r-project.org", dependencies=TRUE)' > /tmp/packages.R \ && Rscript /tmp/packages.R

# Install Java
# RUN echo "deb http://http.debian.net/debian testing contrib" >> /etc/apt/sources.list

RUN echo "deb http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main" > /etc/apt/sources.list.d/java-8-debian.list
RUN echo "deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main" >> /etc/apt/sources.list.d/java-8-debian.list
RUN apt-key adv --keyserver keyserver.ubuntu.com --recv-keys EEA14886



# RUN apt-get update && apt-get install -y java-package
# RUN useradd -m -d /java java
# USER java
# WORKDIR /java
# RUN mkdir -p /java/jdk
# CMD make-jpkg /java/jdk/jdk-*-linux-x64.tar.gz

# USER root

# Create an R User
# RUN useradd --create-home --home-dir $HOME user \
    # && chown -R user:user /home/user
# 
# WORKDIR $HOME
# USER user

# set the command
# CMD ["R"]
